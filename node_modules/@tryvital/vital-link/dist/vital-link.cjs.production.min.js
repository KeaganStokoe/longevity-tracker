"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("react"),e=t(n),i=t(require("react-script-hook"));function o(){return(o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}var r=function(){},l=function(t){var e=i({src:"https://link.tryvital.io/initialize.js",checkForExisting:!0}),l=e[0],a=e[1],u=n.useState(null),c=u[0],s=u[1],f=n.useState(!1),d=f[0],p=f[1];return n.useEffect((function(){if(!l){if(!a&&window.Vital){null!=c&&c.exit({force:!0},(function(){return c.destroy()}));var n=function(t){var n={vital:null,open:!1,onExitCallback:null};if("undefined"==typeof window||!window.Vital)throw new Error("Vital not loaded");var e,i,r,l=(e=t,r={},delete Object.assign(r,e,(i={},i.key=e.publicKey,i)).publicKey,r);return n.vital=window.Vital.create(o({},l,{onExit:function(){n.open=!1,l.onExit&&l.onExit.apply(l,arguments),n.onExitCallback&&n.onExitCallback()}})),{open:function(t){n.vital&&(n.open=!0,n.onExitCallback=null,n.vital.open(t))},exit:function(t,e){n.open&&n.vital?(n.onExitCallback=e,n.vital.exit(t),t&&t.force&&(n.open=!1)):e&&e()},destroy:function(){n.vital&&(n.vital.destroy(),n.vital=null)}}}(o({},t,{onLoad:function(){p(!0),t.onLoad&&t.onLoad()}}));return s(n),function(){return n.exit({force:!0},(function(){return n.destroy()}))}}console.error("Error loading Vital",a)}}),[l,a]),{error:a,ready:null!=c&&(!l||d),exit:c?c.exit:r,open:c?c.open:r}},a=function(t){var n=t.children,i=t.style,r=t.className,a=function(t,n){if(null==t)return{};var e,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n.indexOf(e=r[i])>=0||(o[e]=t[e]);return o}(t,["children","style","className"]),u=l(o({},a)),c=u.open;return e.createElement("button",{disabled:Boolean(u.error),type:"button",className:r,style:o({padding:"6px 4px",outline:"none",background:"#FFFFFF",border:"2px solid #F1F1F1",borderRadius:"4px"},i),onClick:function(){return c()}},n)};a.displayName="VitalLink",exports.VitalLink=a,exports.useVitalLink=l;
//# sourceMappingURL=vital-link.cjs.production.min.js.map
